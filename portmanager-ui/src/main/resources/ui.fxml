<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.portmanager.ui.AppController">

    <!-- top toolbar -->
    <top>
        <ToolBar>
            <Label fx:id="planInfoLabel" text="ID: -" style="-fx-font-weight:bold;"/>

            <Label text="Algorithm:"/>
            <ComboBox fx:id="algorithmSelector"/>

            <Button text="Generate Plan" onAction="#onGeneratePlan"/>
            <Button text="Random Data"  onAction="#onRandomData"/>

            <Button text="Edit Terminals" onAction="#openTerminalSettings"/>
            <Button text="Edit Vessels"   onAction="#openVesselSettings"/>
            <Button text="Edit Events"    onAction="#openEventsSettings"/>

            <Label text="|" />
            <Label text="T:"/><Label fx:id="terminalCount" text="0"/>
            <Label text=" V:"/><Label fx:id="vesselCount"   text="0"/>
            <Label text=" E:"/><Label fx:id="eventCount"    text="0"/>
        </ToolBar>
    </top>

    <!-- center -->
    <center>
        <SplitPane orientation="VERTICAL" dividerPositions="0.75">
            <!-- left: two plan boards -->
            <VBox spacing="6" style="-fx-padding:6;">
                <Label text="ML plan"/>
                <ScrollPane fx:id="mlScroll"
                            prefHeight="240"
                            minHeight="240"
                            maxHeight="240"
                            fitToWidth="true">
                    <GridPane fx:id="mlGrid" hgap="3" vgap="3"/>
                </ScrollPane>

                <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding:6;">
                    <Button text="Fix plan generated by ML" onAction="#onFixMlPlan"/>
                    <Button text="Submit manual plan" onAction="#onSubmitManualPlan"/>
                </HBox>

                <Label text="Manual plan"/>
                <Label fx:id="manualErrorLabel" textFill="red" style="-fx-padding: 0 0 4 8;" />

                <SplitPane orientation="VERTICAL" dividerPositions="0.65">
                    <ScrollPane fx:id="manualScroll"
                                prefHeight="240"
                                fitToWidth="false"
                                hbarPolicy="AS_NEEDED">
                        <Pane fx:id="manualPane"/>
                    </ScrollPane>

                    <AnchorPane fx:id="scheduleRoot"
                                minHeight="120"
                                prefHeight="240"/>
                </SplitPane>
            </VBox>

            <!-- right: ships + status -->
            <VBox spacing="6" style="-fx-padding:6;">
                <TableView fx:id="shipTable" prefHeight="600">
                    <columns>
                        <!-- basic -->
                        <TableColumn fx:id="arrivalColumn"  text="ETA"/>
                        <TableColumn fx:id="shipColumn"     text="ID"/>
                        <TableColumn fx:id="cargoColumn"    text="Cargo"/>
                        <TableColumn fx:id="shipTypeColumn" text="Ship Type"/>
                        <TableColumn fx:id="priorityColumn" text="Priority"/>
                        <TableColumn fx:id="lengthColumn"   text="Len m"/>
                        <TableColumn fx:id="draftColumn"    text="Draft m"/>
                        <TableColumn fx:id="deadweightColumn" text="DWT t"/>
                        <TableColumn fx:id="durationColumn" text="Stay h"/>
                        <!-- flags etc. -->
                        <TableColumn fx:id="flagColumn"     text="Flag"/>
                        <TableColumn fx:id="imoColumn"      text="IMO"/>
                        <TableColumn fx:id="fuelColumn"     text="Fuel"/>
                        <TableColumn fx:id="emissionColumn" text="Emission"/>
                        <!-- logistics -->
                        <TableColumn fx:id="arrivalPortColumn" text="From"/>
                        <TableColumn fx:id="nextPortColumn"    text="Next"/>
                        <TableColumn fx:id="customsColumn"     text="Customs?"/>
                        <TableColumn fx:id="pilotColumn"       text="Pilot?"/>
                        <TableColumn fx:id="hazardColumn"      text="Hazard"/>
                        <TableColumn fx:id="tempColumn"        text="TempCtrl?"/>
                        <TableColumn fx:id="windowStartColumn" text="Window Start"/>
                        <TableColumn fx:id="windowEndColumn"   text="Window End"/>
                        <TableColumn fx:id="delayColumn"       text="ExpDelay h"/>
                    </columns>
                </TableView>

                <Separator/>
                <Label fx:id="statusLabel" text="Ready"/>
            </VBox>
        </SplitPane>
    </center>
</BorderPane>
